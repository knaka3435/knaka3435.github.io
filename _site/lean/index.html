<!DOCTYPE html>
<html lang="en-US">
  <head>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Ring Theory in Lean | My blog</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="Ring Theory in Lean" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I do math and some Lean." />
<meta property="og:description" content="I do math and some Lean." />
<link rel="canonical" href="http://localhost:4000/lean/index" />
<meta property="og:url" content="http://localhost:4000/lean/index" />
<meta property="og:site_name" content="My blog" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"Ring Theory in Lean","description":"I do math and some Lean.","url":"http://localhost:4000/lean/index","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=ec67dec8af1568eb525344972ca2176409ac5aad">
  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
      <h1 class="project-name">Ring Theory in Lean</h1>
      <h2 class="project-tagline">I do math and some Lean.</h2>
      
        <a href="https://github.com/mushokunosora/mushokunosora.github.io" class="btn">View on GitHub</a>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <h1 id="ring-theory-in-lean">Ring Theory in Lean</h1>

<h2 id="about-the-project">About the project</h2>
<p>The goal of the project is to formalize some of the fundamental mathematics that is central to Algebraic Number Theory, mainly focusing on dedekind domains and the many, many equvialent definitions, some of which included looking at discrete valuation rings (which coincidentally has many, many equivalent definitions). Most of the filled-in proofs however, consist of statements about other things, but in doing so, provides a stronger foundation for the future.</p>

<p>Special thanks to my project advisor, Apurva Nakade, who has helped explain the math some of the APIs (<script type="math/tex">% <![CDATA[
\varepsilon<0 %]]></script> documentation) are trying to capture, as well as answering a variety of questions from basic lean syntax to some really vague questions (left as comments in the code) that has made a proof magnitudes easier by using some mathlib lemma (summoned from where???). Also without the <code class="language-plaintext highlighter-rouge">Teaching Math to Computers</code> class, I would not doubt learning the basics of Lean would have much longer.</p>

<p>Also, big thanks to Jalex Stark, who has helped transform some really hacky solutions into ones that were less unidiomatic, as well as providing insight as to how to properly do things in Lean (such as instances which borderline on witchcraft). Not to mention the monumental task of trying to optimize spaghetti code.</p>

<h2 id="some-background">Some background</h2>

<p>Here we deal exclusively with commutative rings with identity, as they are truth.</p>

<p>The localization of a ring at <script type="math/tex">S</script> is the set of all elements <script type="math/tex">\{\frac{r}{s} \mid \ r \in R, \ s \in S \}</script>. The set <script type="math/tex">S</script> has some structure, which is that it is closed under multiplication (a multiplicative submonoid of R) and typically contains the multiplicative identity. An interesting result is that if <script type="math/tex">0 \in S</script>, then the localization of <script type="math/tex">R</script> at <script type="math/tex">S</script> is the <code class="language-plaintext highlighter-rouge">zero ring</code> which has only one element, <script type="math/tex">0</script>, and this is due to the fact that <script type="math/tex">0</script> is assumed to be a unit, and the multiplication rule by <script type="math/tex">0</script> still applies.</p>

<p>Somewhat confusingly, the localization of <script type="math/tex">R</script> at a prime ideal <script type="math/tex">P</script> is actually the localization of <script type="math/tex">R</script> at <script type="math/tex">R-P</script>, which is the set-theoretic complement of <script type="math/tex">P</script> (although the motivation is probably a mixture of laziness and wanting an interesting localization). If <script type="math/tex">R</script> is an integral domain, this results in a <code class="language-plaintext highlighter-rouge">local ring</code> which has the property that the only nonzero prime ideal is <script type="math/tex">P</script>, and is of particular interest to the theory of algebraic geometry (although this is beyond me). More importantly, one of the definitions of a dedekind domain is that the localization at any nonzero prime is a discrete valuation ring (which is a special type of local ring).</p>

<p>Another good property for rings to have, which makes them really nice is the Noetherian property, which yet again, has many definitions. Fortunately, they mainly manifest in the following:</p>
<ol>
  <li>For any chain of ideals, the inclusions <script type="math/tex">I_1 \subseteq I_2 \subseteq I_3 \subseteq I_4 \subseteq \ldots</script> is eventually constant. In other words, there exists <script type="math/tex">n</script> such that <script type="math/tex">I_{n-1} \subset I_n = I_{n+1} = \ldots</script>.</li>
  <li>Any ideal of <script type="math/tex">R</script> is finitely generated (as an <script type="math/tex">R</script>-submodule).</li>
  <li>Any nonempty set of ideals of <script type="math/tex">R</script> has a maximal ideal (not contained in any other ideal of the set).
One can analogously talk about Noetherian modules (here ideals get replaced by submodules).</li>
</ol>

<h2 id="code">Code</h2>

<h3 id="localizations-of-integral-domains">Localizations of integral domains</h3>
<p>The following is a proof that any nontrivial localization of an integral domain, <script type="math/tex">R</script>, is yet another integral domain. Intuitively, this makes sense, as when we divide out by the things in <script type="math/tex">S</script>, we do not introduce zero divisors (also here we require that <script type="math/tex">0 \not\in S</script>, as otherwise this would break rule 4 &gt;! Also the zero ring is not an integral domain, as there does exist at least two distinct elements).</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">theorem</span> <span class="n">local_id_is_id</span> <span class="p">(</span><span class="n">S</span> <span class="p">:</span> <span class="n">submonoid</span> <span class="n">R</span><span class="p">)</span> <span class="p">(</span><span class="n">zero_non_mem</span> <span class="p">:</span> <span class="p">((</span><span class="mi">0</span> <span class="p">:</span> <span class="n">R</span><span class="p">)</span> <span class="err">∉</span>  <span class="n">S</span><span class="p">))</span> <span class="p">{</span><span class="n">f</span> <span class="p">:</span> <span class="n">localization_map</span> <span class="n">S</span> <span class="p">(</span><span class="n">localization</span> <span class="n">S</span><span class="p">)}</span> <span class="p">:</span> 
  <span class="n">is_integral_domain</span> <span class="p">(</span><span class="n">localization</span> <span class="n">S</span><span class="p">)</span> <span class="p">:</span><span class="o">=</span>
<span class="n">begin</span>
  <span class="o">--</span><span class="n">the</span> <span class="sb">`split`</span> <span class="n">tactic</span> <span class="n">allows</span> <span class="n">us</span> <span class="n">to</span> <span class="n">take</span> <span class="p">(</span><span class="n">condition</span> <span class="mi">1</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">condition</span> <span class="mi">2</span><span class="p">)</span> <span class="n">AND</span> <span class="p">...</span> <span class="ow">and</span> <span class="n">lets</span> <span class="n">us</span> <span class="n">instead</span> <span class="n">prove</span> <span class="p">(</span><span class="n">condition</span> <span class="mi">1</span><span class="p">),</span> <span class="n">then</span> <span class="p">(</span><span class="n">condition</span> <span class="mi">2</span><span class="p">),</span> <span class="n">etc</span><span class="p">.</span> 
  <span class="n">split</span><span class="p">,</span>
    <span class="p">{</span> <span class="o">--</span><span class="n">Here</span> <span class="n">we</span> <span class="n">prove</span> <span class="n">that</span> <span class="n">this</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">the</span> <span class="n">zero</span> <span class="n">ring</span> <span class="n">by</span> <span class="n">way</span> <span class="n">that</span> <span class="n">there</span> <span class="n">exists</span> <span class="n">two</span> <span class="ow">not</span> <span class="n">equal</span> <span class="n">elements</span><span class="p">.</span>
      <span class="o">--</span><span class="n">We</span> <span class="n">claim</span> <span class="n">that</span> <span class="n">the</span> <span class="n">images</span> <span class="n">of</span> <span class="mi">0</span> <span class="ow">and</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">localization</span> <span class="n">are</span> <span class="n">distinct</span>
      <span class="n">use</span> <span class="n">f</span><span class="p">.</span><span class="n">to_fun</span> <span class="mi">1</span><span class="p">,</span>
      <span class="n">use</span> <span class="n">f</span><span class="p">.</span><span class="n">to_fun</span> <span class="mi">0</span><span class="p">,</span>
      <span class="o">--</span><span class="n">Proofs</span> <span class="n">of</span> <span class="n">the</span> <span class="n">form</span> <span class="ow">not</span><span class="p">(</span><span class="n">P</span><span class="p">)</span> <span class="n">are</span> <span class="n">implemented</span> <span class="ow">in</span> <span class="n">lean</span> <span class="n">by</span> <span class="n">saying</span> <span class="n">that</span> <span class="n">a</span> <span class="n">proof</span> <span class="n">of</span> <span class="n">P</span> <span class="n">implies</span> <span class="n">a</span> <span class="n">proof</span> <span class="n">of</span> <span class="n">false</span>
      <span class="o">--</span><span class="n">Here</span> <span class="n">we</span> <span class="n">assume</span> <span class="n">that</span> <span class="mi">1</span> <span class="o">=</span> <span class="mf">0.</span>
      <span class="n">intro</span> <span class="n">one_eq_zero</span><span class="p">,</span> 
      <span class="o">--</span><span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">statement</span> <span class="n">that</span> <span class="n">since</span> <span class="mi">1</span> <span class="o">=</span> <span class="mi">0</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">localization</span><span class="p">,</span> <span class="n">then</span> <span class="n">there</span> <span class="n">exists</span> <span class="n">an</span> <span class="n">element</span> <span class="n">c</span> <span class="n">of</span> <span class="n">S</span> <span class="p">(</span><span class="ow">and</span> <span class="n">of</span> <span class="n">R</span><span class="p">)</span> <span class="n">such</span> <span class="n">that</span> <span class="mi">1</span><span class="o">*</span><span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="o">*</span><span class="n">c</span><span class="p">,</span> 
      <span class="n">have</span> <span class="n">h2</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span><span class="n">localization_map</span><span class="p">.</span><span class="n">eq_iff_exists</span> <span class="n">f</span><span class="p">).</span><span class="mi">1</span> <span class="n">one_eq_zero</span><span class="p">,</span>
      <span class="o">--</span><span class="n">We</span> <span class="n">can</span> <span class="n">then</span> <span class="n">reason</span> <span class="n">about</span> <span class="n">this</span> <span class="n">value</span> <span class="n">of</span> <span class="n">c</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">equation</span> <span class="sb">`h2`</span> <span class="n">which</span> <span class="ow">is</span> <span class="mi">1</span><span class="o">*</span><span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="o">*</span><span class="n">c</span>
      <span class="n">cases</span> <span class="n">h2</span> <span class="k">with</span> <span class="n">c</span> <span class="n">h2</span><span class="p">,</span>
      <span class="o">--</span><span class="n">Evidently</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mf">0.</span>
      <span class="n">rw</span> <span class="p">[</span><span class="n">zero_mul</span><span class="p">,</span> <span class="n">one_mul</span><span class="p">]</span> <span class="n">at</span> <span class="n">h2</span><span class="p">,</span>
      <span class="o">--</span><span class="n">Since</span> <span class="mi">0</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">member</span> <span class="n">of</span> <span class="n">S</span><span class="p">,</span> <span class="n">then</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">either</span>
      <span class="n">rw</span> <span class="err">←</span> <span class="n">h2</span> <span class="n">at</span> <span class="n">zero_non_mem</span><span class="p">,</span>
      <span class="o">--</span><span class="n">But</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">contradiction</span><span class="p">,</span> <span class="n">since</span> <span class="n">c</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">S</span><span class="p">.</span>
      <span class="n">exact</span> <span class="n">zero_non_mem</span> <span class="n">c</span><span class="p">.</span><span class="nb">property</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">exact</span> <span class="n">mul_comm</span> <span class="p">},</span> <span class="o">--</span> <span class="n">the</span> <span class="n">proof</span> <span class="n">that</span> <span class="n">multiplication</span> <span class="ow">is</span> <span class="n">commutative</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">localization</span> <span class="n">has</span> <span class="n">already</span> <span class="n">been</span> <span class="n">done</span>
    <span class="p">{</span> <span class="o">--</span><span class="n">Now</span><span class="p">,</span> <span class="n">we</span> <span class="n">have</span> <span class="n">to</span> <span class="n">prove</span> <span class="n">the</span> <span class="n">fundamental</span> <span class="nb">property</span> <span class="n">of</span> <span class="n">integral</span> <span class="n">domains</span><span class="p">,</span> <span class="k">if</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">then</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span>
      <span class="n">intros</span> <span class="n">x</span> <span class="n">y</span> <span class="n">mul_eq_zero</span><span class="p">,</span>
      <span class="o">--</span><span class="n">Since</span> <span class="n">the</span> <span class="n">mapping</span> <span class="k">from</span> <span class="n">R</span> <span class="n">x</span> <span class="n">S</span> <span class="n">to</span> <span class="n">the</span> <span class="n">localization</span> <span class="n">of</span> <span class="n">S</span> <span class="ow">is</span> <span class="n">surjective</span><span class="p">,</span> <span class="n">there</span> <span class="n">exists</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="ow">in</span> <span class="n">R</span> <span class="n">x</span> <span class="n">S</span> <span class="n">such</span> <span class="n">that</span> <span class="n">x</span> <span class="o">*</span> <span class="n">a_2</span> <span class="o">=</span> <span class="n">a_1</span> <span class="p">(</span><span class="n">clearing</span> <span class="n">denominator</span> <span class="n">of</span> <span class="n">x</span><span class="p">)</span>
      <span class="n">cases</span> <span class="n">f</span><span class="p">.</span><span class="n">surj</span><span class="s">' x with a akey,
      cases f.surj'</span> <span class="n">y</span> <span class="k">with</span> <span class="n">b</span> <span class="n">bkey</span><span class="p">,</span>
      <span class="o">--</span><span class="n">here</span> <span class="n">we</span> <span class="n">prove</span> <span class="n">that</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">a_2</span><span class="p">)</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="p">(</span><span class="n">b_2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">which</span> <span class="n">follows</span> <span class="n">since</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">=</span><span class="mf">0.</span>
      <span class="n">have</span> <span class="n">h1</span> <span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">to_fun</span><span class="p">(</span> <span class="n">a</span><span class="p">.</span><span class="n">snd</span><span class="p">))</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">to_fun</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">snd</span><span class="p">))</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
      <span class="p">{</span> <span class="n">rw</span> <span class="p">[</span><span class="n">mul_assoc</span> <span class="n">x</span><span class="p">,</span> <span class="err">←</span> <span class="n">mul_comm</span> <span class="n">y</span><span class="p">,</span> <span class="err">←</span> <span class="n">mul_assoc</span><span class="p">,</span> <span class="n">mul_eq_zero</span><span class="p">],</span> <span class="n">simp</span> <span class="p">},</span>
      <span class="o">--</span><span class="n">But</span><span class="p">,</span> <span class="n">we</span> <span class="n">can</span> <span class="n">write</span> <span class="n">this</span> <span class="k">as</span> <span class="n">a_1</span><span class="o">*</span><span class="n">b_1</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">(</span><span class="n">still</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">localization</span> <span class="n">of</span> <span class="n">S</span><span class="p">).</span>
      <span class="n">rw</span> <span class="p">[</span><span class="n">akey</span><span class="p">,</span> <span class="n">mul_assoc</span><span class="p">,</span> <span class="n">bkey</span><span class="p">,</span> <span class="err">←</span> <span class="n">f</span><span class="p">.</span><span class="n">map_mul</span><span class="s">', ← f.map_zero'</span><span class="p">]</span> <span class="n">at</span> <span class="n">h1</span><span class="p">,</span>
      <span class="o">--</span><span class="n">And</span> <span class="n">using</span> <span class="n">the</span> <span class="n">fact</span> <span class="n">that</span> <span class="k">if</span> <span class="n">r</span> <span class="o">=</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">localization</span><span class="p">,</span> <span class="n">there</span> <span class="n">exists</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">S</span> <span class="n">such</span> <span class="n">that</span> <span class="n">c</span> <span class="o">*</span> <span class="n">r</span> <span class="o">=</span> <span class="n">c</span> <span class="o">*</span> <span class="n">s</span> <span class="p">(</span><span class="ow">in</span> <span class="n">R</span><span class="p">)</span>
      <span class="n">rw</span> <span class="n">f</span><span class="p">.</span><span class="n">eq_iff_exists</span><span class="s">' at h1,
      --Here we reason about this value of c, and the equation c*a_1*b_1=0
      cases h1 with c h1, 
      rw [zero_mul, mul_comm] at h1,
      --And since R is an integral domain, either c=0, or c*a_1*b_1 = 0.
      have h2 := eq_zero_or_eq_zero_of_mul_eq_zero h1,
      --Suppose (for sake of contradiction) that c = 0.
      cases h2 with c_eq_zero h2,
      { exfalso, --this is latin for "this is false"
        -- Since c = 0 is an element of S, and 0 is not in S, we have a contradiction
        rw ← c_eq_zero at zero_non_mem,
        exact zero_non_mem c.property },
      --Now, we'</span><span class="n">re</span> <span class="n">left</span> <span class="k">with</span> <span class="n">the</span> <span class="n">case</span> <span class="n">that</span> <span class="n">a_1</span><span class="o">*</span><span class="n">b_1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">which</span> <span class="n">means</span> <span class="n">that</span> <span class="n">either</span> <span class="n">a_1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="ow">or</span> <span class="n">b_1</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">(</span><span class="n">also</span> <span class="n">the</span> <span class="n">word</span> <span class="n">salad</span> <span class="n">below</span> <span class="ow">is</span> <span class="n">stating</span> <span class="n">that</span> <span class="mi">0</span><span class="o">/</span><span class="n">s</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">some</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">S</span><span class="p">).</span>
      <span class="n">replace</span> <span class="n">h2</span> <span class="p">:</span><span class="o">=</span> <span class="n">eq_zero_or_eq_zero_of_mul_eq_zero</span> <span class="n">h2</span><span class="p">,</span>
      <span class="n">cases</span> <span class="n">h2</span> <span class="k">with</span> <span class="n">a_eq_zero</span> <span class="n">b_eq_zero</span><span class="p">,</span>
      <span class="p">{</span> <span class="n">left</span><span class="p">,</span> <span class="n">rw</span> <span class="n">a_eq_zero</span> <span class="n">at</span> <span class="n">akey</span><span class="p">,</span>
        <span class="n">exact</span> <span class="n">localization_map</span><span class="p">.</span><span class="n">eq_zero_of_fst_eq_zero</span> <span class="n">f</span> <span class="n">akey</span> <span class="n">rfl</span> <span class="p">},</span>
      <span class="p">{</span> <span class="n">right</span><span class="p">,</span> <span class="n">rw</span> <span class="n">b_eq_zero</span> <span class="n">at</span> <span class="n">bkey</span><span class="p">,</span>
        <span class="n">exact</span> <span class="n">localization_map</span><span class="p">.</span><span class="n">eq_zero_of_fst_eq_zero</span> <span class="n">f</span> <span class="n">bkey</span> <span class="n">rfl</span> <span class="p">},</span>
    <span class="p">},</span>
<span class="n">end</span></code></pre></figure>

<p>As an immediate corollary, we have the fact that the localization at a prime ideal P, is also an integral domain.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">instance</span> <span class="n">local_at_prime_of_id_is_id</span> <span class="p">(</span><span class="n">P</span> <span class="p">:</span> <span class="n">ideal</span> <span class="n">R</span><span class="p">)</span> <span class="p">(</span><span class="n">hp_prime</span> <span class="p">:</span> <span class="n">P</span><span class="p">.</span><span class="n">is_prime</span><span class="p">)</span> <span class="p">:</span> 
  <span class="n">integral_domain</span> <span class="p">(</span><span class="n">localization</span><span class="p">.</span><span class="n">at_prime</span> <span class="n">P</span><span class="p">)</span> <span class="p">:</span><span class="o">=</span>
<span class="n">begin</span>
  <span class="o">--</span><span class="n">Since</span> <span class="mi">0</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">P</span><span class="p">,</span> <span class="n">we</span> <span class="n">must</span> <span class="n">have</span> <span class="n">that</span> <span class="mi">0</span> <span class="ow">is</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">complement</span> <span class="n">of</span> <span class="n">P</span><span class="p">.</span>
  <span class="n">have</span> <span class="n">zero_non_mem</span> <span class="p">:</span> <span class="p">(</span><span class="mi">0</span> <span class="p">:</span> <span class="n">R</span><span class="p">)</span> <span class="err">∉</span> <span class="n">P</span><span class="p">.</span><span class="n">prime_compl</span><span class="p">,</span>
  <span class="p">{</span> <span class="n">have</span> <span class="p">:</span><span class="o">=</span> <span class="n">ideal</span><span class="p">.</span><span class="n">zero_mem</span> <span class="n">P</span><span class="p">,</span> <span class="n">simpa</span> <span class="p">},</span>
  <span class="o">--</span><span class="n">And</span> <span class="n">now</span> <span class="n">we</span> <span class="n">have</span> <span class="n">a</span> <span class="n">nice</span> <span class="n">proof</span><span class="err">!</span>
  <span class="n">have</span> <span class="n">h1</span> <span class="p">:</span><span class="o">=</span> <span class="n">local_id_is_id</span> <span class="n">R</span> <span class="n">P</span><span class="p">.</span><span class="n">prime_compl</span> <span class="n">zero_non_mem</span><span class="p">,</span>
  <span class="n">exact</span> <span class="n">is_integral_domain</span><span class="p">.</span><span class="n">to_integral_domain</span> <span class="p">(</span><span class="n">localization</span><span class="p">.</span><span class="n">at_prime</span> <span class="n">P</span><span class="p">)</span> <span class="n">h1</span><span class="p">,</span>
  <span class="n">exact</span> <span class="n">localization</span><span class="p">.</span><span class="n">of</span> <span class="p">(</span><span class="n">ideal</span><span class="p">.</span><span class="n">prime_compl</span> <span class="n">P</span><span class="p">),</span>
<span class="n">end</span></code></pre></figure>

<h3 id="noetherian-submodules">Noetherian Submodules</h3>

<p>In terms of equivalent Noetherian submodules, so far, Lean has a statement which is essentially the first is equivalent to the second, but the third is not included.</p>

<p>I have found a truly marvelous proof that if <script type="math/tex">X</script> is a module over <script type="math/tex">R</script>, and for every set of submodules of <script type="math/tex">X</script>, there exists a maximal submodule, then <script type="math/tex">X</script> is a Noetherian module, which the margins of this website is too small to contain.</p>

<p>(although the converse is a work in progress)</p>
<h3 id="misc">Misc.</h3>
<p>The zero ideal is a prime ideal! This was fairly surprising that it hadn’t been proven so far in Lean, but then again, most of the theorems aren’t about integral domains.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="o">--</span><span class="n">Lean</span> <span class="n">has</span> <span class="n">a</span> <span class="n">more</span> <span class="n">developed</span> <span class="sb">`lattice structure`</span> <span class="n">which</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">poset</span> <span class="n">whose</span> <span class="n">relation</span> <span class="ow">is</span> <span class="n">inclusion</span><span class="p">.</span> <span class="n">The</span> <span class="n">weird</span> <span class="n">symbol</span> <span class="sb">`bot`</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">bottom</span> <span class="n">of</span> <span class="n">the</span> <span class="n">lattice</span> <span class="n">of</span> <span class="n">submodules</span><span class="o">/</span><span class="n">ideals</span><span class="p">.</span> 
<span class="n">lemma</span> <span class="n">zero_prime</span> <span class="p">[</span><span class="n">integral_domain</span> <span class="n">R</span><span class="p">]</span> <span class="p">:</span> <span class="p">(</span><span class="err">⊥</span> <span class="p">:</span> <span class="n">ideal</span> <span class="n">R</span><span class="p">).</span><span class="n">is_prime</span> <span class="p">:</span><span class="o">=</span>
<span class="n">begin</span>
  <span class="n">split</span><span class="p">,</span>
  <span class="p">{</span> <span class="o">--</span><span class="n">Proving</span> <span class="n">that</span> <span class="n">the</span> <span class="n">zero</span> <span class="n">ideal</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">the</span> <span class="n">entire</span> <span class="n">ring</span>
    <span class="n">intro</span><span class="p">,</span>
    <span class="o">--</span><span class="n">Suppose</span> <span class="n">that</span> <span class="n">it</span> <span class="ow">is</span><span class="p">.</span>
    <span class="n">have</span> <span class="n">h1</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span><span class="n">ideal</span><span class="p">.</span><span class="n">eq_top_iff_one</span><span class="p">)</span> <span class="p">(</span><span class="err">⊥</span> <span class="p">:</span> <span class="n">ideal</span> <span class="n">R</span><span class="p">),</span>
    <span class="o">--</span><span class="n">Then</span> <span class="n">since</span> <span class="n">it</span> <span class="n">contains</span> <span class="n">the</span> <span class="n">entire</span> <span class="n">ring</span><span class="p">,</span> <span class="n">it</span> <span class="n">must</span> <span class="n">also</span> <span class="n">contain</span> <span class="n">the</span> <span class="n">element</span> <span class="mf">1.</span>
    <span class="n">rw</span> <span class="n">h1</span> <span class="n">at</span> <span class="n">a</span><span class="p">,</span>
    <span class="o">--</span><span class="n">Since</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">zero</span> <span class="n">ideal</span><span class="p">,</span> <span class="n">we</span> <span class="n">must</span> <span class="n">also</span> <span class="n">have</span> <span class="n">that</span> <span class="mi">1</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">have</span> <span class="p">:</span> <span class="mi">1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span> <span class="p">:</span> <span class="n">R</span><span class="p">),</span> <span class="n">tauto</span><span class="p">,</span>
    <span class="o">--</span><span class="n">But</span> <span class="n">this</span> <span class="n">contradicts</span> <span class="n">the</span> <span class="n">fact</span> <span class="n">that</span> <span class="n">R</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">integral</span> <span class="n">domain</span>
    <span class="n">simpa</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">{</span> <span class="o">--</span><span class="n">Proving</span> <span class="n">that</span> <span class="n">whenever</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="ow">is</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">then</span> <span class="n">either</span> <span class="n">x</span> <span class="ow">or</span> <span class="n">y</span> <span class="ow">is</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">).</span>
    <span class="n">intros</span><span class="p">,</span>
    <span class="o">--</span><span class="n">Since</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">zero</span> <span class="n">ideal</span><span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="n">must</span> <span class="n">be</span> <span class="mf">0.</span>
    <span class="n">have</span> <span class="n">h1</span> <span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tauto</span><span class="p">,</span>
    <span class="o">--</span><span class="n">Since</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">integral</span> <span class="n">domain</span><span class="p">,</span> <span class="n">either</span> <span class="n">x</span> <span class="ow">or</span> <span class="n">y</span> <span class="n">must</span> <span class="n">be</span> <span class="n">zero</span><span class="p">.</span>
    <span class="n">have</span> <span class="n">x_or_y0</span> <span class="p">:</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span> <span class="err">∨</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">exact</span> <span class="n">zero_eq_mul</span><span class="p">.</span><span class="n">mp</span> <span class="p">(</span><span class="n">eq</span><span class="p">.</span><span class="n">symm</span> <span class="n">h1</span><span class="p">),</span>
    <span class="o">--</span><span class="n">Evidently</span><span class="p">,</span> <span class="n">either</span> <span class="n">x</span> <span class="ow">or</span> <span class="n">y</span> <span class="n">must</span> <span class="n">be</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">).</span>
    <span class="n">tauto</span><span class="p">,</span>
  <span class="p">},</span>
<span class="n">end</span></code></pre></figure>


      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/mushokunosora/mushokunosora.github.io">mushokunosora.github.io</a> is maintained by <a href="https://github.com/mushokunosora">mushokunosora</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>
  </body>
</html>